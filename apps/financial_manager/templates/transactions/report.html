{% extends "admin/base.html" %}

{% block content %}
  <div class="container-fluid">
    <div class="row mb-2">
      <h1 class="ml-2">Relatório de Transações</h1>
    </div>

    <div class="row">
      <div class="col"> 
        <div class="card">
          <h3 class="card-title m-4">Selecione o período desejado para o relatório</h3>
          <form class="mx-4" action="{% url "transactions-report" %}" method="GET">
            {% csrf_token %}
            <div class="row">
              <div class="col">
                <div class="form-group">
                  <label for="start_date">Data inicial</label>
                  <input 
                    type="date" 
                    class="form-control" 
                    id="start_date" 
                    name="start_date"
                    value="{{ start_date|date:'Y-m-d' }}"
                  >
                </div>
              </div>
              <div class="col">
                <div class="form-group">
                  <label for="end_date">Data Final</label>
                  <input 
                    type="date"
                    class="form-control"
                    id="end_date" 
                    name="end_date"
                    value="{{ end_date|date:'Y-m-d' }}"
                  >
                </div>
              </div>
            </div>
            <div class="form-group row">
              <label for="static_user" class="col-sm-1 col-form-label">Usuário</label>
              <div class="col-sm-5">
                <input 
                  type="text" 
                  readonly 
                  class="form-control-plaintext" 
                  id="static_user" 
                  value="{{ request.user.first_name }} {{ request.user.last_name }}"
                  name="static_user"
                >
              </div>
              <div class="form-check col-5">
                <div class="row ml-2">
                  <input 
                    class="form-check-input"
                    type="checkbox" 
                    value="True"
                    id="display_family"
                    name="display_family"
                    {% if display_family %} checked {% endif %}
                  >                
                  <label class="form-check-label" for="display_family">
                    Mostrar dados da Família
                  </label>
                </div>

                <div class="row ml-2">
                  <input 
                    class="form-check-input"
                    type="checkbox" 
                    value="True"
                    id="display_receipt"
                    name="display_receipt"
                    {% if display_receipt %} checked {% endif %}
                  >                
                  <label class="form-check-label" for="display_receipt">
                    Mostrar Receitas
                  </label>
                </div>

                <div class="row ml-2">
                  <input 
                    class="form-check-input"
                    type="checkbox" 
                    value="True"
                    id="display_expense"
                    name="display_expense"
                    {% if display_expense %} checked {% endif %}
                  >                
                  <label class="form-check-label" for="display_expense">
                    Mostrar Despesas
                  </label>
                </div>
              </div>
            </div>
            <button type="submit" class="btn btn-primary mb-4">Filtrar</button>
          </form>  
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-sm">
        <div class="card">
          <div class="card-body">
            <h3 class="card-title">Receitas</h3>
            
          </div>
        </div>
      </div>
      <div class="col-sm">
        <div class="card">
          <div class="card-body">
            <h3 class="card-title">Despesas</h3> 
          </div>
        </div>
      </div>
      <div class="col-sm">
        <div class="card">
          <div class="card-body">
            <h3 class="card-title">Consolidado</h3>
          </div>
        </div>
      </div>
    </div>
      
  </div>
{% endblock %}